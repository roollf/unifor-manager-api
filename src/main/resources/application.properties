# Application
quarkus.application.name=unifor-manager

# PostgreSQL
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=unifor
quarkus.datasource.password=unifor
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/unifor_manager
quarkus.hibernate-orm.database.generation=none

# Flyway
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=db/migration

# OIDC / Keycloak
quarkus.oidc.auth-server-url=http://localhost:8081/realms/unifor
quarkus.oidc.client-id=unifor-manager
quarkus.oidc.credentials.secret=dn8pH0kS0QueahspQApfrLoz8q3L15Bz

# OpenAPI
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.path=/q/swagger-ui

# Permit health and OpenAPI without auth (for dev and probes)
quarkus.http.auth.permission.health.paths=/api/health,/q/health,/q/health/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.openapi.paths=/q/openapi,/q/swagger-ui,/q/swagger-ui/*
quarkus.http.auth.permission.openapi.policy=permit
quarkus.http.auth.permission.seed-validation.paths=/api/dev/seed-validation
quarkus.http.auth.permission.seed-validation.policy=permit

# Development profile overrides (optional: same DB; tune OIDC if needed)
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/unifor_manager
%dev.quarkus.log.level=DEBUG
